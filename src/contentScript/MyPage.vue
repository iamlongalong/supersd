<script lang="ts">
import { defineComponent } from 'vue'
import { userHistories } from './history.ts'
import HistoryView from './HistoryView.vue'

export default defineComponent({
  components: { HistoryView },
  emits: ['edit'],
  setup(props, { emit }) {
    const hisTagsList = userHistories.histories

    const handleRemove = (ts: number) => {
      userHistories.deleteHistory(ts)
    }

    const handleEdit = (stags: SavedTags) => {
      emit('edit', stags)
    }

    return {
      userHistories,
      hisTagsList,
      handleRemove,
      handleEdit
    }
  }
})
</script>

<template>
  <div v-if="hisTagsList.length" class="hist-view-container">
    <HistoryView
      :history-list="hisTagsList"
      :can-remove="true"
      @remove="handleRemove"
      @edit="handleEdit"
    ></HistoryView>
  </div>

  <el-row
    v-if="!hisTagsList.length"
    :gutter="24"
    justify="center"
    class="no-contents-container"
  >
    <div class="no-contents-svg">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        fill="none"
        version="1.1"
        width="98"
        height="98"
        viewBox="0 0 98 98"
      >
        <defs>
          <clipPath id="master_svg0_43_9572">
            <rect x="0" y="0" width="98" height="98" rx="0" />
          </clipPath>
        </defs>
        <g clip-path="url(#master_svg0_43_9572)">
          <g>
            <path
              d="M49,4.083251953125C51.2552,4.083251953125,53.0833,5.911421953125,53.0833,8.166581953125C53.0833,8.166581953125,53.0833,26.891851953125,53.0833,26.891851953125C53.0833,26.891851953125,62.446,17.529251953124998,62.446,17.529251953124998C64.0406,15.934551953125,66.6261,15.934551953125,68.2207,17.529251953124998C69.8152,19.123851953124998,69.8152,21.709251953125,68.2207,23.303951953125C68.2207,23.303951953125,51.8873,39.637251953125,51.8873,39.637251953125C50.2928,41.231951953125,47.7072,41.231951953125,46.1127,39.637251953125C46.1127,39.637251953125,29.7793,23.303951953125,29.7793,23.303951953125C28.1847,21.709251953125,28.1847,19.123851953124998,29.7793,17.529251953124998C31.374,15.934551953125,33.9594,15.934551953125,35.554,17.529251953124998C35.554,17.529251953124998,44.9167,26.891851953125,44.9167,26.891851953125C44.9167,26.891851953125,44.9167,8.166581953125,44.9167,8.166581953125C44.9167,5.911421953125,46.7448,4.083251953125,49,4.083251953125C49,4.083251953125,49,4.083251953125,49,4.083251953125ZM14.3443,38.844251953125C15.939,37.249551953125,18.5244,37.249551953125,20.119,38.844251953125C20.119,38.844251953125,25.9174,44.642551953125,25.9174,44.642551953125C27.512,46.237151953125,27.512,48.822651953125,25.9174,50.417251953125C24.3227,52.011751953125,21.7373,52.011751953125,20.1426,50.417251953125C20.1426,50.417251953125,14.3443,44.618951953125,14.3443,44.618951953125C12.7497,43.024251953125,12.7497,40.438851953125,14.3443,38.844251953125C14.3443,38.844251953125,14.3443,38.844251953125,14.3443,38.844251953125ZM83.6557,38.844251953125C85.2502,40.438851953125,85.2502,43.024251953125,83.6557,44.618951953125C83.6557,44.618951953125,77.8573,50.417251953125,77.8573,50.417251953125C76.2628,52.011751953125,73.6772,52.011751953125,72.0827,50.417251953125C70.4881,48.822651953125,70.4881,46.237151953125,72.0827,44.642551953125C72.0827,44.642551953125,77.881,38.844251953125,77.881,38.844251953125C79.4756,37.249551953125,82.0611,37.249551953125,83.6557,38.844251953125C83.6557,38.844251953125,83.6557,38.844251953125,83.6557,38.844251953125ZM31.6759,56.175951953125C36.2705,51.580951953125,42.5022,48.999951953125,49,48.999951953125C55.4978,48.999951953125,61.7294,51.580951953125,66.324,56.175951953125C70.9189,60.770551953125,73.5,67.00215195312501,73.5,73.499951953125C73.5,75.755151953125,71.6719,77.583251953125,69.4167,77.583251953125C67.1614,77.583251953125,65.3333,75.755151953125,65.3333,73.499951953125C65.3333,69.167951953125,63.6126,65.013551953125,60.5493,61.950651953125C57.4864,58.887251953125,53.332,57.166551953125,49,57.166551953125C44.668,57.166551953125,40.5137,58.887251953125,37.4506,61.950651953125C34.3875,65.013551953125,32.6667,69.167951953125,32.6667,73.499951953125C32.6667,75.755151953125,30.8385,77.583251953125,28.5833,77.583251953125C26.3282,77.583251953125,24.5,75.755151953125,24.5,73.499951953125C24.5,67.00215195312501,27.0812,60.770551953125,31.6759,56.175951953125C31.6759,56.175951953125,31.6759,56.175951953125,31.6759,56.175951953125ZM0,73.499951953125C0,71.244651953125,1.82817,69.416551953125,4.08333,69.416551953125C4.08333,69.416551953125,12.25,69.416551953125,12.25,69.416551953125C14.5051,69.416551953125,16.3333,71.244651953125,16.3333,73.499951953125C16.3333,75.755151953125,14.5051,77.583251953125,12.25,77.583251953125C12.25,77.583251953125,4.08333,77.583251953125,4.08333,77.583251953125C1.82817,77.583251953125,0,75.755151953125,0,73.499951953125C0,73.499951953125,0,73.499951953125,0,73.499951953125ZM81.6667,73.499951953125C81.6667,71.244651953125,83.4948,69.416551953125,85.75,69.416551953125C85.75,69.416551953125,93.9167,69.416551953125,93.9167,69.416551953125C96.1719,69.416551953125,98,71.244651953125,98,73.499951953125C98,75.755151953125,96.1719,77.583251953125,93.9167,77.583251953125C93.9167,77.583251953125,85.75,77.583251953125,85.75,77.583251953125C83.4948,77.583251953125,81.6667,75.755151953125,81.6667,73.499951953125C81.6667,73.499951953125,81.6667,73.499951953125,81.6667,73.499951953125ZM0,89.833251953125C0,87.578051953125,1.82817,85.749951953125,4.08333,85.749951953125C4.08333,85.749951953125,93.9167,85.749951953125,93.9167,85.749951953125C96.1719,85.749951953125,98,87.578051953125,98,89.833251953125C98,92.088451953125,96.1719,93.916551953125,93.9167,93.916551953125C93.9167,93.916551953125,4.08333,93.916551953125,4.08333,93.916551953125C1.82817,93.916551953125,0,92.088451953125,0,89.833251953125C0,89.833251953125,0,89.833251953125,0,89.833251953125Z"
              fill-rule="evenodd"
              fill="#D8D8D8"
              fill-opacity="1"
            />
          </g>
        </g>
      </svg>
    </div>

    <div class="no-contents-text">
      <div>这是你的专属提示词仓库</div>
      <div>将喜欢的提示词保存在这儿吧~</div>
    </div>
  </el-row>
</template>

<style scoped lang="less">
.no-contents-container {
  margin-top: 25vh;
  .no-contents-svg {
    width: 98px;
    height: 98px;
    opacity: 1;

    margin-bottom: 25px;
  }

  .no-contents-text {
    width: 100%;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;

    color: #9c9c9c;
    line-height: 2rem;
    font-size: 1.1rem;
  }
}

.hist-view-container {
  padding: 1.5rem 0;
}
</style>
